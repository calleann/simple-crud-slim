<div class="row">
  <div class="panel panel-default">
    <div class="panel-heading"><strong>Statut du dossier</strong></div>
    <div class="panel-body">
      <br>
      <div class="progress">
        {% if etat.etat1 == 1 %}
          <div class="progress-bar" role="progressbar" style="width: 25%;display:none;"  aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Etat1</div>
          <div class="progress-bar progress-bar-success" role="progressbar" style="width: 25%;display:none;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Etat1</div>
        {% endif %}
        {% if etat.etat2 == 1 %}
          <div class="progress-bar progress-bar-danger" role="progressbar" style="width: 25%;display:none;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Etat2</div>
        {% endif %}
        {% if etat.etat3 == 1 %}
          <div class="progress-bar progress-bar-warning" role="progressbar" style="width: 25%;display:none;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Etat3</div>
        {% endif %}
      </div>
      <label>Pourcentage total: <span id="percentage">0</span>%</label>
    </div>
  </div>
</div>


<script type="text/javascript">
  var i = 0;
  var percentage = 0;
  $(document).ready(function() {
    $(this).find(".progress-bar").each(function(){
      $(this).delay(300*i+ 200).show("slide", { direction: "left" },300);
      i++;
      percentage += 25;
    });
    $('#percentage').text(percentage);
  });
</script>
